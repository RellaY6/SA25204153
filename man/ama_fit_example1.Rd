% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ama_example1.R
\name{ama_fit_example1}
\alias{ama_fit_example1}
\title{Adaptive Model Averaging 拟合函数（Example 1 设计）}
\usage{
ama_fit_example1(X, y, n_phi_grid = 20, B_mc = 50, seed = 2025)
}
\arguments{
\item{X}{数值矩阵，维度 \eqn{n \times p}，每列对应一个协变量。}

\item{y}{数值向量，长度 \eqn{n}，响应变量。}

\item{n_phi_grid}{搜索 \eqn{\phi_n} 时网格上的点数，默认 20。}

\item{B_mc}{Monte Carlo 重复次数，用于估计 \eqn{g_0(\phi_n)}，默认 50。}

\item{seed}{随机种子，方便重复结果。若为 \code{NULL} 则不设定。}
}
\value{
一个列表，包含：
\itemize{
  \item \code{beta_ma} 最终 AMA 模型平均估计 \eqn{\hat\beta(\hat\phi_n)}。
  \item \code{phi_hat} 选出的 \eqn{\hat\phi_n}。
  \item \code{w_hat} 最终的模型平均权重向量。
  \item \code{sigma2_hat} 使用集合 \eqn{H} 拟合得到的 \eqn{\hat\sigma^2}。
  \item \code{H} mBIC 选出的候选变量集合 \eqn{H}。
  \item \code{candidate_sets} Step 2+3 构造出的所有候选模型集合。
  \item \code{step1, step2, step34, step56} 四个中间步骤的完整输出。
}
}
\description{
在 AMA 论文
Zhang (2022), "Adaptive Model Averaging Estimation with a Diverging Number of Parameters"
的 Example 1 设定下, 完成自适应模型平均 (AMA) 的整个拟合流程。
给定设计矩阵 \code{X} 和响应向量 \code{y}，
按照自适应模型平均 (Adaptive Model Averaging, AMA)
(ALASSO 初始模型选择、mBIC 选取集合 \eqn{H}, 构造候选模型集合,
以及 Cp-type 准则选择正则化参数 \eqn{\phi_n}, 最终给出 AMA 模型平均估计。)
文献 Example 1 的设定，完成：
\enumerate{
  \item Step 1：ALASSO via LARS，得到一条自适应 LASSO 解路径；
  \item Step 2：基于 mBIC 从路径中选出候选变量集合 \eqn{H}；
  \item Step 3–4：构造候选模型集合并对每个模型做 OLS 估计；
  \item Step 5–6：在 \eqn{\phi_n} 网格上用 Cp-type 准则选取
        \eqn{\hat\phi_n}，得到最终 AMA 模型平均估计。
}
函数返回最终 AMA 估计以及各步的中间结果，便于进一步分析和作图。
}
\examples{
\dontrun{
  set.seed(1)
  dat <- gen_example1_data(n = 100, rho = 0.5, R2 = 0.4)
  fit <- ama_fit_example1(dat$X, dat$y,
                          n_phi_grid = 10, B_mc = 20)
  str(fit$beta_ma)
}

}
\references{
Zhang, X. (2022).
\emph{Adaptive Model Averaging Estimation With A Diverging Number of Parameters}.
}
